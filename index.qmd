---
title: "Agricultural Land Abandonment in Nepal"
jupyter: gee
editor: 
  render-on-save: true
bibliography: references.json
csl: apa.csl
filters:
  - lastmodified.lua
format:
  html:
    toc-location: left
    toc-depth: 3
    page-layout: full
---

**Problem:** Identify abandoned agricultural lands (AAL) in Nepal.

**Solution (Conceptual):** Establish a quantifiable definition of AAL → Develop a method to identify AAL satisfying the definition.

# 1. Establish a quantifiable definition of AAL {#aal-definition}
There is no universal definition of AAL. However, "time-based" and "land cover transition" definitions can be found in the literatures.

- Time-based definition: AAL is a land that has been abandoned for a certain period of time.
- Land cover transition definition: AAL is a land that has been converted from agricultural land to non-agricultural land.

::: {.callout}
**Suggested definition for this study**

Agricultural land abandonment is defined as arable land (khet or bari) where farming activities have ceased for a minimum of five consecutive years, leading to a transition to grassland, shrubland, or scrub, but which has not been converted to built-up areas, water bodies, or mature forest [@paudelHighResolutionRemoteSensing2025; @raiStatusFarmlandAbandonment2019].
:::

## 1.1. Rationale for this definition
- Quantifiable supported by FAO (FAO, 2016)
- Avoids misclassifying temporary fallow land

# 2. Develop a method to identify AAL satisfying the definition {#methods}
Literatures before 2019 were reviewed from papers cited in [@gogaReviewApplicationRemote2019]. Papers published after 2019 were reviewed from google scholar with custom date filter and [@liuGlobalReviewMonitoring2025a]. Review was non-exhaustive till {{< meta last-modified >}}. 

## 2.1. Review of existing methods
Based on [@liuGlobalReviewMonitoring2025a], the methods can be divided into two major categories (Image classification & spectral features method and Time-dynamic &trajectory method) and various sub categories.

- Image Classification and Spectral Features Methods: This includes visual interpretation, supervised classification (SVM, Random Forest), decision trees, object-oriented classification (OBIA), and integrated methods (fusion of techniques).
- Time-Dynamic and Trajectory Methods: This includes dual time-point change detection, multi-time point land cover trajectories (like LandTrendr), and vegetation phenology dynamics.

```{mermaid}
graph TD
    classDef default font-size:20px;

    %% Main Node
    Start[Methods for AAL Detection]

    %% Main Categories
    CA[Image classification and <br> spectral features method]
    TT[Time-dynamic and <br> trajectory method]

    %% CA Sub-points
    CA_1[Visual <br> interpretation]
    CA_2[Supervised <br> classification]
    CA_3[Decision <br> trees]
    CA_4[Object-oriented <br> classification]
    CA_5[Integrated <br> methods]
    
    %% TT Sub-points
    TT_1[Dual time point <br> land cover changes <br> Multi-time point <br> land cover trajectory]
    TT_2[Vegetation phenology and <br> dynamic]

    %% Connections
    Start --> TT
    Start --> CA

    TT --> TT_1
    TT --> TT_2

    CA --> CA_1
    CA --> CA_2
    CA --> CA_3
    CA --> CA_4
    CA --> CA_5

    %% Styling
    style Start fill:#2c3e50,stroke:#34495e,stroke-width:4px,color:#fff,font-weight:bold
    style TT fill:#3498db,stroke:#2980b9,stroke-width:2px,color:#fff
    style CA fill:#27ae60,stroke:#229954,stroke-width:2px,color:#fff
    
    style TT_1 fill:#ebf5fb,stroke:#3498db,stroke-dasharray: 5 5
    style TT_2 fill:#ebf5fb,stroke:#3498db,stroke-dasharray: 5 5
    
    style CA_1 fill:#eafaf1,stroke:#27ae60,stroke-dasharray: 5 5
    style CA_2 fill:#eafaf1,stroke:#27ae60,stroke-dasharray: 5 5
    style CA_3 fill:#eafaf1,stroke:#27ae60,stroke-dasharray: 5 5
    style CA_4 fill:#eafaf1,stroke:#27ae60,stroke-dasharray: 5 5
    style CA_5 fill:#eafaf1,stroke:#27ae60,stroke-dasharray: 5 5
```

![@liuGlobalReviewMonitoring2025a](images/review_summary.png){.lightbox}

### 2.1.1 Comparison of Methods

![@liuGlobalReviewMonitoring2025a](images/review_method_comparison.png){.lightbox}

::: {#tbl-methods-comparison}

| Study | Approach | Study Area | Data Sources (Spatial & Temporal) | Definition of Abandonment | Methodology / Algorithm | Accuracy / Performance |
|:---|:---|:---|:---|:---|:---|:---|
| **[@alcantaraMappingExtentAbandoned2013]** | Multi-temporal (MA) | Central & Eastern Europe | **MODIS NDVI** (250m)<br>Time-series: 2003–2009 | **Class-based (Static):** Land cultivated in the socialist period but covered by successional vegetation (grass/shrubs) during observation. | **SVM:** Phenological metrics (start of season, amplitude) extracted via TIMESAT. | **Moderate:** ~49% area-adjusted overall accuracy. |
| **[@estelMappingFarmlandAbandonment2015]** | Multi-temporal (MA) | Europe | **MODIS NDVI** (250m)<br>Time-series: 2001–2012 | **Trajectory-based:** Land unmanaged/fallow for 2–5 consecutive years. | **Random Forest (RF):** Annual classification of "Active" vs. "Fallow" using normalized NDVI curves. | **High:** ~90.1% average overall accuracy for active/fallow distinction. |
| **[@stefanskiMappingMonitoringLand2014]** | OBIA / Multi-sensor | Western Ukraine | **Landsat** (Optical) + **ERS SAR** (Radar)<br>Years: 1986, 1993, 1999, 2006, 2010 | **Trajectory-based:** Land cover transition (Cropland → Grassland) without recultivation. | **OBIA + RF:** Superpixel Contour segmentation to delineate fields. Fusion of Optical and Radar. | **83.4%** Overall Accuracy. 87.2% for 2010 management regimes. |
| **[@lowMappingAbandonedAgricultural2015]** | OBIA / Fusion | Kazakhstan | **Landsat** + **RapidEye**<br>Time-series: 2009–2014 | **Trajectory-based:** Analyzed within historical field parcels. Abandonment = 5 years of shrub/bare cover. | **Decision Fusion:** Trained RF and SVM separately on object-based features and fused results via majority voting. | **~97%** Overall Accuracy. Fusing classifiers significantly improved accuracy over single algorithms. |
| **[@yinMappingAgriculturalLand2018]** | OBIA / LandTrendr | Caucasus (Russia/Georgia) | **Landsat time series** (30m)<br>1985–2015 | **Dynamic/Trajectory:** Land inactive for at least 5 years (based on FAO definition). | **RF + LandTrendr:** Multi-resolution segmentation into objects. RF for annual probability, then LandTrendr for temporal segmentation. | **97% ± 1%** Overall Accuracy. Performed substantially better than pixel-level detection (82%). |
| **[@wuMonitoringCroplandAbandonment2023]** | OBIA / LandTrendr | Fujian Province, China | **Landsat** + **Sentinel-2** (10-30m)<br>2010–2021 | **Narrow Sense:** Farmland not cultivated for 1 year or more. | **RF + LandTrendr:** Used existing government farmland plot boundaries. RF for annual probability, then LandTrendr to identify significant drops. | **High:** 87.02% (2018) and 87.50% (2020) validation accuracy. |
| **[@daraMappingTimingCropland2018]** | Multi-temporal (MA) | Northern Kazakhstan | **Landsat time series** (30m)<br>1984–2016 | **Trajectory-based:** 3 consecutive years active followed by 3 consecutive years inactive. | **RF + LandTrendr:** 3-year moving window for spectral metrics. RF for annual cropland probability, then LandTrendr for trajectory analysis. | **89%** Overall Accuracy. UA of 93% for the abandonment class. |
| **[@gunthertObjectbasedDetectionLUCC2011]** | Texture / Edge Detection | Tenerife (Canary Islands) | **RapidEye** + **Orthophotos**<br>2010 | **Subtraction Method:** (Total Ever-Utilized Area) minus (Current Active Agriculture). | **Canny Filter within OBIA:** Detects "linear footprints" (terraces/walls) under vegetation to identify long-term fallow. | **93.0%** Overall Accuracy. Highly effective for abandoned terraces. |
| **[@shixinObjectorientedClassificationTechnique2013]** | OBIA (Rule-based) | China | **SPOT-5** (2.5m/10m)<br>Nov 2010 | **Land Cover Class:** Identification of abandoned land as a specific spectral/structural class. | **OBIA:** Edge-based segmentation + rules involving spectral signatures, shape, and texture. | **78.94%** accuracy for Abandoned Class. Outperformed pixel-based methods (~59%). |
| **[@goodinMappingLandCover2015]** | OBIA / SVM | Poland / Ukraine Border | **Landsat 8 OLI** (Single date)<br>Aug 2013 | **Land Use Distinction:** Differentiating "Pasture/Abandoned" from active "Arable" land. | **SVM within OBIA:** Combined spectral features with object geometry (shape/size). | **75%** Overall Accuracy for land use. Spatial features were essential for land use separation. |
| **[@suziedelytevisockieneAnalysisIdentificationAbandoned2019]** | Segmentation | Lithuania | **Sentinel-2** (Optical)<br>Sept 2017 | **Verification:** Land covered with woody plants identified by remote sensing and compared with national registry. | **Mean-Shift Segmentation:** Clustering and Kernel density (ColorMapping) to find homogenous scrub regions. | **Varied:** ~94% (Winter), ~75% (Summer). Accuracy depends on seasonal vegetation state. |

Table: Comprehensive Comparison of Remote Sensing Methods for Abandoned Agricultural Land (AAL) Detection
:::


::: {.callout-note collapse="true"}
### Expand for details

### 2.1.1. Time-Dynamic and Trajectory Methods
These papers utilize advanced non-parametric classifiers like Random Forest (RF) and Support Vector Machine (SVM) and LandTrendR applied to time series data (mostly landsat and MODIS) to identify AAL.

- [@alcantaraMappingExtentAbandoned2013] used Support Vector Machine (SVM) on MODIS NDVI time series to map active and fallow agricultural lands across Europe.

::: {.callout-note collapse="true"}
#### Details Alacantara et al. (2013)
- Objective: (1) What are the spatial patterns of currently abandoned farmland in Central and Eastern Europe?
(2) Are abandoned farmlands more strongly associated with institutional and socio-economic factors or with biophysical factors?
- Definition: "Abandoned agriculture" was defined as land likely cultivated during the socialist period but covered by successional vegetation during the observation period. They classified pixels directly into four static classes: active agriculture, forest, abandoned agriculture, and other. 
- Datasets:MODIS (both Aqua and Terra) NDVI time series (2003-2009) was classified into- active agriculture (cropland and pastures), forest, abandoned agriculture, and others (water, urban, rocks and wetland) using Support Vector Machine (SVM). TIMESAT software to extract specific phenological metrics. These included the start/end of the growing season, base/maximum NDVI, and the length of the growing cycle. They used 108 total bands (metrics plus monthly NDVI) as input
- Classification: They did not rely primarily on visual interpretation of the MODIS pixels themselves. Instead, they used an upscaling approach. They gathered training data from existing high-resolution (30m) Landsat land-cover maps produced in previous local studies. They selected MODIS pixels that contained at least 90% of a single class (e.g., abandoned agriculture) within the finer Landsat maps
:::

- [@estelMappingFarmlandAbandonment2015],used Random Forest classifier on MODIS NDVI time series (2001-2012) to map active and fallow agricultural lands across Europe.

::: {.callout-note collapse="true"}
#### Details Estel et al. (2015)
- Defined fallow farmland as "land without management (i.e., not sown, cropped, or plowed in the case of cropland, or not mown or intensively grazed in the case of grassland)".
- Datasets: MODIS NDVI (16 day composite Aqua & Terra), MODIS land surface temperature (to distinguish winter from growing season), MODIS land-water mask- MOD44W (to separate land area), GlobCORINE land cover (to define extent of potentially active or fallow agricultural land), training data-visual interpretation of MODIS NDVI profiles combined with high-res Google Earth images. They looked for specific phenological shapes: "bell-shaped" curves indicated fallow/natural vegetation, while irregular, narrow peaks indicated active management (plowing/harvest)
- Classification: They classified each pixel for each year as either "Active" or "Fallow" using RF classifier. Then, for each pixel, they calculated fallow frequency. Abandoned was then defined based on the trajectory (2-5 years of fallow years)
:::

- [@mullerComparingDeterminantsCropland2013] A pixel was classified as "abandoned" if it was covered by cropland in the first time step (e.g., 1990) but was not cropland (non-cropland) in the subsequent time step (e.g., 1995). Cannot use this because it does not consider temporary fallow agricultural land.

::: {.callout-note collapse="true"}
#### Estel et al. (2015) vs Alcantara et al. (2013)
::: {#tbl-comparison}
| Feature | Estel et al. (2015) | Alcantara et al. (2013) |
|:---|:---|:---|
| **Output Type** | **Annual Maps**: Produces a map for every year (2001–2012) to track trajectories. | **Static Map**: Produces a single map representing the state of abandonment around 2005. |
| **Input Features** | **Normalized Time Series**: Used the shape of the NDVI curve directly after normalizing for climate differences. | **Phenological Metrics**: Extracted specific statistics (e.g., start of season, amplitude) using TIMESAT software. |
| **Algorithm** | **Random Forest (RF)**: Uses an ensemble of decision trees. | **Support Vector Machines (SVM)**: Fits optimal hyperplanes to separate classes. |
| **Training Data** | **Visual Interpretation**: Experts labeled points by looking at Google Earth and NDVI profiles. | **Upscaling/Fusion**: Used existing high-resolution Landsat maps to train the coarse MODIS classifier. |
| **Abandonment Logic** | **Frequency-based**: A pixel is "abandoned" only if it is classified as "fallow" for several consecutive years. | **Class-based**: The classifier is trained to recognize the specific spectral signature of "abandonment" as a distinct land cover class. |
| **Accuracy** | More Accurate | Less Accurate |

Table 1: Major Differences Between the Two Methods
:::
:::

[@yinMappingAgriculturalLand2018; @wuMonitoringCroplandAbandonment2023; @daraMappingTimingCropland2018] share a core methodological framework for mapping AAL using LandTrendr algorithm on agricultural land probability (probabilities of pixel/object being cropland using Random Forest).

- Core Algorithm: All three studies utilize the LandTrendr (Landsat-based detection of Trends in Disturbance and Recovery) algorithm to analyze temporal trajectories. They all first employ a Random Forest classifier to generate annual probability maps (estimating the likelihood of a pixel/object being cropland) and then feed these probability time series into LandTrendr to detect structural breaks.
- Classification Probabilities: All of them use Random Forest to perform the initial classification of cropland probabilities based on spectral metrics.
- Trajectory Analysis: They distinguish stable cropland from abandoned and recultivated cropland based on the trajectory of the probability values over time.
- Major difference: [@daraMappingTimingCropland2018] addressed data scarcity by calculating spectral metrics using a 3-year moving window rather than single-year images. [@yinMappingAgriculturalLand2018] included imagery from +- 1 year around the target year to calculate spectral-temporal metrics and reduce classification error due to data gaps. [@wuMonitoringCroplandAbandonment2023] combined Landsat with Sentinel-2 data and used monthly synthetic cloud-free images set to construct their time series, rather than multi-year moving window.

### 2.1.2. Image Classification and Spectral Features Methods
These papers deviate away from the pixel-based approach towards object-based image analysis (OBIA), multi-sensor data fusion, and long-term tragectory analysis.

* [@stefanskiMappingMonitoringLand2014] (Optical-Radar Fusion & Trajectory Analysis):
This study focuses on the post-Soviet Western Ukraine and utilizes a method that integrates different sensor types to overcome data gaps and spectral confusion.

::: {.callout-note collapse="true"}
#### Details Stefanski et al. (2014)
  + Data: They combined optical data (Landsat) with Radar data (ERS SAR) for the years 1986, 1993, 1999, 2006, and 2010.
  + Method: They applied OBIA approach using "Superpixel Contour" segmentation to delineate fields. They then classified these objects using Random Forest classifier.
  + Abandonment: Abandonment was identified through land cover trajectory analysis. They tracked the trajectory of each object across the five time steps. E.g., Cropland → Grassland (without recultivation) = Permanent Abandonment
:::

* [@lowMappingAbandonedAgricultural2015] (Decision Fusion & Historical Vector Masking): Focused on Kazakhstan, this paper introduces a "Decision Fusion" technique to improve accuracy in complex irrigated landscape.

::: {.callout-note collapse="true"}
#### Details Low et al. (2015)
  + Data: Time series of Landsat and RapidEye imagery (2009-2014)
  + Method: They used two different machine learning algorithms, RF and SVM to classify the data. they then fused the results of these two classifiers to achieve higher accuracy (up tp 97%) than either could achieve alone.
  + Abandonment: They digitized all formerly used field parcels (from Soviet era) using hi-res imagery to create a mask. They then analyzed the land cover trahectories within the specific polygons to identify abandonment. E.g., 5 consecutive years of shrub cover/bare.
:::

* [@gunthertObjectbasedDetectionLUCC2011] (Texture-Based "Subtraction" Method): Günthert et al. developed a unique "subtraction" method that relies on identifying physical land structures rather than just vegetation health. Their approach was driven by the specific landscape of Tenerife, where agriculture relies on terraces that remain visible even long after the land has been abandoned and covered by natural vegetation

::: {.callout-note collapse="true"}
#### Details Günthert et al. (2011)
  + Data: RapidEye satellite imagery & hi-res orthophotos
  + Method: OBIA approach on rapidEye to id current active crops. Applied Canny edge detector on very hi-res orthophotos to find the "footprint" of all agriculture past and present. This is termed as "Total Ever-utilized" land. Instead of loooking for green vegetation, they looked for linear structures like terrace walls, plough dfurrows, and field boundaries. They used a Canny edge detector filter to highlight these lines, followed by a density analysis to identify areas with a high concentration of man-made lines. This allowed them to detect old agricultural land even if it was covered in dense shrubs or forest (advanced secondary succession). 
  + Abandonment:They calculated abandonment by subtracting the Current Active Agriculture (Step 1) from the Total Ever-Utilized Area (Step 2). Any area that had agricultural terraces (Step 2) but was not currently being farmed (Step 1) was classified as abandoned/non-active
:::

* [@shixinObjectorientedClassificationTechnique2013] This paper focuses on proving the superiority of object-based methods over pixel-based methods using high-resolution data in China.

::: {.callout-note collapse="true"}
#### Details Shixin et al. (2013)
  + Data: SPOT-5 high-resolution imagery (2.5m panchromatic and 10m multispectral)
  + Method: They performed Edge-based segmentation in ENVI software to create image objects. They then classified these objects using a rule-based system involving spectral signatures, shape, texture, and spatial location.
  + Abandonment: They compared this directly with a standard pixel-based Maximum Likelihood classification. The object-oriented method achieved an accuracy of 78.94% for abandoned farmland, whereas the pixel-based method achieved only 59.00%, primarily because abandoned land is spectrally complex (mixed weeds, soil, water) and confuses pixel-based classifiers
:::

* [@goodinMappingLandCover2015] This study explicitly tests which components of an object (spectral vs. spatial) are necessary to identify land use (abandonment) versus land cover.

::: {.callout-note collapse="true"}
#### Details Goodin et al. (2015)
  + Data: Single-date Landsat 8 OLI imagery (pan-sharpened)
  + Method: They used Support Vector Machines (SVM) within an Object-Based Image Analysis (OBIA) framework. They ran three variations: using only spectral features, using only spatial/geometric features, and using combined features
  + Abandonment: They found that for land use (which includes distinguishing "Pasture/Abandoned" from active "Arable"), using combined spectral and spatial features yielded the highest accuracy. This confirms that the shape and size of agricultural plots (geometry) are critical cues for identifying abandonment in fragmented landscapes
:::

* [@suziedelytevisockieneAnalysisIdentificationAbandoned2019] (Segmentation & Spatial Data Comparison)
This paper analyzes abandoned land in Lithuania using open-source satellite data and compares it to national registry data.

::: {.callout-note collapse="true"}
#### Details Suziedelyte-Visockiene et al. (2019)
  + Data: Sentinel-2 optical data.
  + Method: They used the Mean-Shift segmentation algorithm to group pixels into regions of homogeneous color and density. They used a "ColorMapping" application based on Kernel density estimation.
  + Abandonment: They compared the results of this segmentation with the national "collection of spatial data on abandoned agricultural land" (vector data provided by the National Land Service). This served as a validation of using remote sensing to update official national statistics
:::
:::

# 3. Suggested Methodology
## Multitemporal Object-oriented Image Analysis Based on Phenology using landTrendr algorithm
Based on the review of literature ([@gogaReviewApplicationRemote2019; @liuGlobalReviewMonitoring2025a] and others), the I suggest the following methodology based on [@yinMappingAgriculturalLand2018; @daraMappingTimingCropland2018; @wuMonitoringCroplandAbandonment2023] (mostly [@yinMappingAgriculturalLand2018]).

## 3.1. Rationale for the using the Methodology
- Precise Temporal Detection: Unlike phenology-based methods that often provide only a broad window of change [@alcantaraMappingExtentAbandoned2013], LandTrendr identifies the specific timing of abandonment and potential recultivation [@yinMappingAgriculturalLand2018; @wuMonitoringCroplandAbandonment2023; @daraMappingTimingCropland2018].

- Differentiation of Fallow vs. Abandonment: Phenology-based annual classifications often confuse temporary fallow years in a crop rotation cycle with permanent abandonment [@estelMappingFarmlandAbandonment2015; @daraMappingTimingCropland2018]. By analyzing the full temporal duration, the proposed method distinguishes these by applying a duration threshold (e.g., labeling abandonment only after 3–5 years of inactivity).

- Noise Reduction via Trajectory Fitting: Instead of classifying each year independently, LandTrendr fits a geometrical model to the time series. This smoothes inter-annual noise related to climate or sensor variations, ensuring detected changes reflect real land-cover transitions rather than outliers [@yinMappingAgriculturalLand2018; @daraMappingTimingCropland2018].

- Superior Accuracy: Previous studies, such as @yinMappingAgriculturalLand2018, indicate that this trajectory-based method—especially when combined with Object-Based Image Analysis (OBIA)—can achieve overall accuracies as high as 97% ± 1%, compared to 82% for standard pixel-based approaches.

- Training/Validation Sample Requirement: The sample data requirements for the suggested method (for generating agriculture land probability) focus on stable reference samples rather than year-specific (samples for each year separately) samples. This means it requires significantly less samples compared to agricultural land classification methods like [@estelMappingFarmlandAbandonment2015].

::: {.callout}
**Analogy for Understanding:**
 Phenology-based methods are like a security camera that only takes one photo each year; you can see if the field is green, but you can't tell if the farmer just took a week off. Using LandTrendr + OBIA is like having a 30-year high-definition time-lapse video of the entire neighborhood; it allows you to ignore "camera flicker" (sensor noise) and see exactly when the farmer walked away and never came back.
:::

## 3.2. Suggested Methodology in Detail (based on [@yinMappingAgriculturalLand2018; @wuMonitoringCroplandAbandonment2023; @daraMappingTimingCropland2018])

This method is designed specifically to address the constraints related to topography of nepal, farming culture, cloud cover, time and other resources limitations, temporal coverage of freely available satellite data and so on.

The methodology uses an OBIA landTrendr approach applied to annual class probabilities. 

  1. Create agricultural land objects: The study will be carried out at object level to reduce "salt and pepper"  noise common in pixel-based methods. The multi-resolution segmentation or similar algorithm will be applied to stacked Landsat images to create agricultural land objects [@yinMappingAgriculturalLand2018].
  
      - Alternative 1: Use existing agricultural land from land cover datasets or osm or similar like [@wuMonitoringCroplandAbandonment2023].

   1. Data Acquisition and Preprocessing: GEE and python will be used for all the analysis if possible to keep the workflow easily repeatable and well documented.
   
      - Datasets: Landsat (2000-2020/2024)

      - Preprocessing: Cloud Masking, Cloud Shadow Masking, Topographic Correction, Spectral and Textural Metrics

      - Cloud Gap filling: @yusoffPhenologyClassificationAbandoned2017 achieved 93% accuracy mapping abandoned paddy and rubber in tropical Malaysia using ALOS PALSAR (L-band Radar). They found that abandoned lands had distinct backscatter signatures compared to active fields.

      - Handelling Terraces: Spectal data alone might fail here. @gunthertObjectbasedDetectionLUCC2011 used Edge Detection (Canny filter) algorithm combined with OBIA to map abandoned terraces. They found that active terraces have distinct linear textures (walls/furrows) that degrade upon abandonment. Using texture improved their accuracy to 91%. [@wuMonitoringCroplandAbandonment2023] used Grey Level Co-occurrence Matrix (GLCM).
     
      - Training and Validation Samples: Method used by [@yinMappingAgriculturalLand2018; @wuMonitoringCroplandAbandonment2023; @wuMonitoringCroplandAbandonment2023] require training data for an RF classifier to generate annual cropland probability maps.
      
          - For training, [@daraMappingTimingCropland2018] used 1,800 sample pixels (900 for stable cropland and 900 for stable non-cropland). For validation, they used 1,290 independent reference samples. This included 50 pixels per stable class and 20–30 pixels per individual year of abandonment/recultivation to ensure the temporal accuracy was captured

          - [@yinMappingAgriculturalLand2018] used a larger set of approximately 3,000 Landsat pixel-size training samples, split evenly between active and non-active agriculture

          - [@wuMonitoringCroplandAbandonment2023] validated their results using 262 abandoned points in 2018 and 296 points in 2020

          - The sources emphasize disproportionate stratified sampling. This ensures that rare events (like the specific year of abandonment) are adequately represented in the validation pool, as a purely random sample might mostly hit stable forest or stable farm plots [@yinMappingAgriculturalLand2018; @daraMappingTimingCropland2018].

          - Source of Training Data: Researchers typically use a combination of historical Landsat imagery and high-resolution Google Earth archives to identify "stable" plots (areas that did not change during a specific window) to provide the baseline spectral signature for the classifier


   2. Calculate Annual Provbability (probability of an object being agricultural land): Train RF classifier using samples of one reference year. I will apply this model to the whole time series. The output from this will be probability (0-100%) that an object is farmland in each year.

   3. Apply landTrendr to Time Series Probabilities: Feed the annual probalities values into the landTrendr algorithm. This algorithm fits a trajectory curve to the probability history. It will identify "structural breaks"—specifically, the point where the probability of being farmland drops and stays low.

   4. Classify Each Object into "AAL", "Recultivated", or "Fallow": This will be based on threshold like [@yinMappingAgriculturalLand2018] did.

   5. Validation: Overall Accuracy, Kappa Coefficient, Producer's Accuracy, User's Accuracy

```{mermaid}
graph TD
    %% --- Phase 1: Data Acquisition & Preprocessing ---
    subgraph Phase1 ["Phase 1: Data Acquisition and Preprocessing (GEE and Python)"]
        A["Acquire Landsat Time Series<br/>2000-2024"] --> B("Basic Preprocessing")
        B --> B1["Cloud and Shadow Masking"]
        B --> B2["Topographic Correction"]
        B --> B3["Generate Spectral Metrics"]
        
        A -- Challenging Conditions --> C("Specialized Preprocessing")
        C --> C1["Cloud Gap Filling<br/>(Use Radar/ALOS PALSAR backscatter)"]
        C --> C2["Handle Terraces/Texture<br/>(OBIA + Canny Filter or GLCM)"]
        
        B1 & B2 & B3 & C1 & C2 --> D["Preprocessed Image Stack"]
    end

    %% --- Phase 2: Object Creation & Sampling ---
    subgraph Phase2 ["Phase 2: OBIA and Sampling Strategy"]
        D --> E{"Define Agricultural<br/>Land Objects"}
        E -- Primary Method --> E1["OBIA: Multi-resolution Segmentation<br/>on Stacked Images"]
        E -- Alternative --> E2["Use Existing Datasets<br/>(OSM, Land Cover Maps)"]
        E1 & E2 --> F["Final Agricultural Objects"]

        G["Define Training/Validation Samples<br/>(Historical Landsat/Google Earth)"] --> H{"Sampling Design"}
        H -- "Crucial: Disproportionate Stratified Sampling" --> H1["Ensure Representation of:<br/>Stable cropland, Stable non-cropland,<br/>Specific abandonment years"]
        F --> I["Finalized Object<br/>Time Series Data"]
        H1 --> J["Training and Validation Data Pool"]
    end

    %% --- Phase 3: Core Analysis (RF + LandTrendr) ---
    subgraph Phase3 ["Phase 3: Probability and Trajectory Analysis"]
        J -- Training Samples --> K["Train Random Forest (RF) Classifier<br/>(Using reference year samples)"]
        I -- Object Data --> L["Apply RF Model to<br/>Whole Time Series"]
        K --> L
        L --> M["Output: Annual Probability of<br/>being Farmland (0-100%) per Object"]
        
        M --> N["Apply LandTrendr Algorithm<br/>to Probability Time Series"]
        N --> O["Fit Trajectory Curve &<br/>Identify 'Structural Breaks'"]
        O -- "Break = Probability drops and stays low" --> O
    end

    %% --- Phase 4: Classification & Validation ---
    subgraph Phase4 ["Phase 4: Classification and Validation"]
        O --> P["Apply Duration Thresholds<br/>(to distinguish fallow vs permanent)"]
        P --> Q{"Final Object Classification"}
        Q --> R1["Active Agricultural Land - AAL"]
        Q --> R2["Temporary Fallow"]
        Q --> R3["Abandoned"]
        Q --> R4["Recultivated"]

        R1 & R2 & R3 & R4 --> S["Validation against Reference Data"]
        J -- Validation Samples --> S
        S --> T["Final Metrics:<br/>Overall Accuracy, Kappa,<br/>Producer's Acc., User's Acc."]
    end

    style E fill: #fffda0,stroke:#e6b800,stroke-width:2px
    style H fill: #fffda0,stroke:#e6b800,stroke-width:2px
    style O fill: #d0f0c0,stroke:#339933,stroke-width:2px
```